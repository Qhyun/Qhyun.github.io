import{c as Bt,S as Mt,C as It,u as Ot,i as Yt,a as _t,b as Gt,d as zt,e as Dt,f as Xt,g as qt,h as yt,G as Tt,j as Wt,R as Pt,Z as bt,k as Ht,p as Ut,m as kt,B as Nt,l as Et,n as Zt,r as Vt,o as $t,q as jt,s as Ft,t as Qt,v as Jt,w as Kt,x as te}from"./index-a95130e0.js";import{d as ee,r as ae,cc as re,Q as ie,a0 as oe,cd as ne,bi as le,a1 as se,o as ue,f as de}from"./index-135bdec9.js";const fe={tooltip:{trigger:"axis",axisPointer:{type:"shadow"},padding:[5,10]},legend:{},grid:{left:"4%",right:"2%",bottom:"7%",top:"2%"},xAxis:[{type:"category",data:[],axisTick:{show:!0}}],yAxis:[{type:"value",axisTick:{show:!1}}],series:[{type:"bar",name:"",data:[],barWidth:"auto",barGap:"80%"}]},he={},ce={tooltip:{},series:[{type:"graph",layout:"force",force:{repulsion:120,edgeLength:[20,70]},roam:!0,draggable:!0,symbolSize:r=>r,itemStyle:{shadowColor:"rgba(133,203,247,0.75)",shadowBlur:15},label:{show:!0},data:[]}],animationDurationUpdate:r=>r*100,animationEasingUpdate:"bounceIn"},ve={visualMap:{left:"3%",bottom:"2%",color:["#ff4601","#fffc00","#87cffa"],calculable:!0,textStyle:{color:"#fff",fontSize:12}},geo:{map:"map",roam:!0,itemStyle:{areaColor:"#17439a",borderColor:"#53D9FF",borderWidth:1.3,shadowBlur:15,shadowColor:"rgb(58,115,192)",shadowOffsetX:7,shadowOffsetY:6},label:{show:!0,color:"#fff"},emphasis:{itemStyle:{areaColor:"#17439a"}},zoom:1.22},series:[{name:"hotMap",type:"heatmap",data:[],coordinateSystem:"geo",pointSize:13,blurSize:40}]},ge={tooltip:{trigger:"axis",axisPointer:{type:"cross"}},grid:{left:"4%",right:"2%",bottom:"7%",top:"2%"},xAxis:[{type:"category",boundaryGap:!1,data:[],axisPointer:{snap:!0}}],yAxis:[{type:"value",axisTick:{show:!1},axisPointer:{snap:!0}}],series:[{name:"",type:"line",data:[],smooth:!0,showSymbol:!1}]};function ct(r,a){return a=a||{},Bt(r,null,null,a.state!=="normal")}function Rt(r){var a=Mt.extend(r);return Mt.registerClass(a),a}function Lt(r){var a=It.extend(r);return It.registerClass(a),a}Ot([Yt,_t]);Ot(Gt);Rt({type:"series.liquidFill",optionUpdated:function(){var r=this.option;r.gridSize=Math.max(Math.floor(r.gridSize),4)},getInitialData:function(r,a){var i=zt(r.data,{coordDimensions:["value"]}),l=new Dt(i,this);return l.initData(r.data),l},defaultOption:{color:["#294D99","#156ACF","#1598ED","#45BDFF"],center:["50%","50%"],radius:"50%",amplitude:"8%",waveLength:"80%",phase:"auto",period:"auto",direction:"right",shape:"circle",waveAnimation:!0,animationEasing:"linear",animationEasingUpdate:"linear",animationDuration:2e3,animationDurationUpdate:1e3,outline:{show:!0,borderDistance:8,itemStyle:{color:"none",borderColor:"#294D99",borderWidth:8,shadowBlur:20,shadowColor:"rgba(0, 0, 0, 0.25)"}},backgroundStyle:{color:"#E3F7FF"},itemStyle:{opacity:.95,shadowBlur:50,shadowColor:"rgba(0, 0, 0, 0.4)"},label:{show:!0,color:"#294D99",insideColor:"#fff",fontSize:50,fontWeight:"bold",align:"center",baseline:"middle",position:"inside"},emphasis:{itemStyle:{opacity:.8}}}});const me=Xt({type:"ec-liquid-fill",shape:{waveLength:0,radius:0,radiusY:0,cx:0,cy:0,waterLevel:0,amplitude:0,phase:0,inverse:!1},buildPath:function(r,a){a.radiusY==null&&(a.radiusY=a.radius);for(var i=Math.max(Math.ceil(2*a.radius/a.waveLength*4)*2,8);a.phase<-Math.PI*2;)a.phase+=Math.PI*2;for(;a.phase>0;)a.phase-=Math.PI*2;var l=a.phase/Math.PI/2*a.waveLength,t=a.cx-a.radius+l-a.radius*2;r.moveTo(t,a.waterLevel);for(var g=0,c=0;c<i;++c){var s=c%4,v=pe(c*a.waveLength/4,s,a.waveLength,a.amplitude);r.bezierCurveTo(v[0][0]+t,-v[0][1]+a.waterLevel,v[1][0]+t,-v[1][1]+a.waterLevel,v[2][0]+t,-v[2][1]+a.waterLevel),c===i-1&&(g=v[2][0])}a.inverse?(r.lineTo(g+t,a.cy-a.radiusY),r.lineTo(t,a.cy-a.radiusY),r.lineTo(t,a.waterLevel)):(r.lineTo(g+t,a.cy+a.radiusY),r.lineTo(t,a.cy+a.radiusY),r.lineTo(t,a.waterLevel)),r.closePath()}});function pe(r,a,i,l){return a===0?[[r+1/2*i/Math.PI/2,l/2],[r+1/2*i/Math.PI,l],[r+i/4,l]]:a===1?[[r+1/2*i/Math.PI/2*(Math.PI-2),l],[r+1/2*i/Math.PI/2*(Math.PI-1),l/2],[r+i/4,0]]:a===2?[[r+1/2*i/Math.PI/2,-l/2],[r+1/2*i/Math.PI,-l],[r+i/4,-l]]:[[r+1/2*i/Math.PI/2*(Math.PI-2),-l],[r+1/2*i/Math.PI/2*(Math.PI-1),-l/2],[r+i/4,0]]}var j=Ut;function At(r){return r&&r.indexOf("path://")===0}Lt({type:"liquidFill",render:function(r,a,i){var l=this,t=this.group;t.removeAll();var g=r.getData(),c=g.getItemModel(0),s=c.get("center"),v=c.get("radius"),z=i.getWidth(),Y=i.getHeight(),Z=Math.min(z,Y),F=0,P=0,D=r.get("outline.show");D&&(F=r.get("outline.borderDistance"),P=j(r.get("outline.itemStyle.borderWidth"),Z));var _=j(s[0],z),k=j(s[1],Y),B,H,Q,G=!1,X=r.get("shape");if(X==="container"?(G=!0,B=[z/2,Y/2],H=[B[0]-P/2,B[1]-P/2],Q=[j(F,z),j(F,Y)],v=[Math.max(H[0]-Q[0],0),Math.max(H[1]-Q[1],0)]):(B=j(v,Z)/2,H=B-P/2,Q=j(F,Z),v=Math.max(H-Q,0)),D){var nt=ut();nt.style.lineWidth=P,t.add(ut())}var at=G?0:_-v,lt=G?0:k-v,J=null;t.add(st());var rt=this._data,tt=[];g.diff(rt).add(function(f){var p=dt(f,!1),y=p.shape.waterLevel;p.shape.waterLevel=G?Y/2:v,qt(p,{shape:{waterLevel:y}},r),p.z2=2,ft(f,p,null),t.add(p),g.setItemGraphicEl(f,p),tt.push(p)}).update(function(f,p){for(var y=rt.getItemGraphicEl(p),E=dt(f,!1,y),C={},I=["amplitude","cx","cy","phase","radius","radiusY","waterLevel","waveLength"],h=0;h<I.length;++h){var e=I[h];E.shape.hasOwnProperty(e)&&(C[e]=E.shape[e])}for(var n={},o=["fill","opacity","shadowBlur","shadowColor"],h=0;h<o.length;++h){var e=o[h];E.style.hasOwnProperty(e)&&(n[e]=E.style[e])}G&&(C.radiusY=Y/2),yt(y,{shape:C,x:E.x,y:E.y},r),r.isUniversalTransitionEnabled&&r.isUniversalTransitionEnabled()?yt(y,{style:n},r):y.useStyle(n);var d=y.getClipPath(),u=E.getClipPath();y.setClipPath(E.getClipPath()),y.shape.inverse=E.inverse,d&&u&&l._shape===X&&!At(X)&&yt(u,{shape:d.shape},r,{isFrom:!0}),ft(f,y,y),t.add(y),g.setItemGraphicEl(f,y),tt.push(y)}).remove(function(f){var p=rt.getItemGraphicEl(f);t.remove(p)}).execute(),c.get("label.show")&&t.add(gt(tt)),this._shape=X,this._data=g;function V(f,p){if(X)if(At(X)){var y=kt(X.slice(7),{}),E=y.getBoundingRect(),C=E.width,I=E.height;C>I?(I=f*2/C*I,C=f*2):(C=f*2/I*C,I=f*2);var h=p?0:_-C/2,e=p?0:k-I/2;return y=kt(X.slice(7),{},new Nt(h,e,C,I)),p&&(y.x=-C/2,y.y=-I/2),y}else if(G){var n=p?-f[0]:_-f[0],o=p?-f[1]:k-f[1];return Et("rect",n,o,f[0]*2,f[1]*2)}else{var n=p?-f:_-f,o=p?-f:k-f;return X==="pin"?o+=f:X==="arrow"&&(o-=f),Et(X,n,o,f*2,f*2)}return new Zt({shape:{cx:p?0:_,cy:p?0:k,r:f}})}function ut(){var f=V(B);return f.style.fill=null,f.setStyle(r.getModel("outline.itemStyle").getItemStyle()),f}function st(){var f=V(v);f.setStyle(r.getModel("backgroundStyle").getItemStyle()),f.style.fill=null,f.z2=5;var p=V(v);p.setStyle(r.getModel("backgroundStyle").getItemStyle()),p.style.stroke=null;var y=new Tt;return y.add(f),y.add(p),y}function dt(f,p,y){var E=G?v[0]:v,C=G?Y/2:v,I=g.getItemModel(f),h=I.getModel("itemStyle"),e=I.get("phase"),n=j(I.get("amplitude"),C*2),o=j(I.get("waveLength"),E*2),d=g.get("value",f),u=C-d*C*2;e=y?y.shape.phase:e==="auto"?f*Math.PI/4:e;var m=h.getItemStyle();if(!m.fill){var T=r.get("color"),w=f%T.length;m.fill=T[w]}var b=E*2,A=new me({shape:{waveLength:o,radius:E,radiusY:C,cx:b,cy:0,waterLevel:u,amplitude:n,phase:e,inverse:p},style:m,x:_,y:k});A.shape._waterLevel=u;var x=I.getModel("emphasis.itemStyle").getItemStyle();x.lineWidth=0,A.ensureState("emphasis").style=x,Wt(A);var M=V(v,!0);return M.setStyle({fill:"white"}),A.setClipPath(M),A}function ft(f,p,y){var E=g.getItemModel(f),C=E.get("period"),I=E.get("direction"),h=g.get("value",f),e=E.get("phase");e=y?y.shape.phase:e==="auto"?f*Math.PI/4:e;var n=function(u){var m=g.count();return m===0?u:u*(.2+(m-f)/m*.8)},o=0;C==="auto"?o=n(5e3):o=typeof C=="function"?C(h,f):C;var d=0;I==="right"||I==null?d=Math.PI:I==="left"?d=-Math.PI:I==="none"?d=0:console.error("Illegal direction value for liquid fill."),I!=="none"&&E.get("waveAnimation")&&p.animate("shape",!0).when(0,{phase:e}).when(o/2,{phase:d+e}).when(o,{phase:d*2+e}).during(function(){J&&J.dirty(!0)}).start()}function gt(f){var p=c.getModel("label");function y(){var m=r.getFormattedLabel(0,"normal"),T=g.get("value",0)*100,w=g.getName(0)||r.name;return isNaN(T)||(w=T.toFixed(0)+"%"),m??w}var E={z2:10,shape:{x:at,y:lt,width:(G?v[0]:v)*2,height:(G?v[1]:v)*2},style:{fill:"transparent"},textConfig:{position:p.get("position")||"inside"},silent:!0},C={style:{text:y(),textAlign:p.get("align"),textVerticalAlign:p.get("baseline")}};Object.assign(C.style,ct(p));var I=new Pt(E),h=new Pt(E);h.disableLabelAnimation=!0,I.disableLabelAnimation=!0;var e=new bt(C),n=new bt(C);I.setTextContent(e),h.setTextContent(n);var o=p.get("insideColor");n.style.fill=o;var d=new Tt;d.add(I),d.add(h);var u=V(v,!0);return J=new Ht({shape:{paths:f},x:_,y:k}),J.setClipPath(u),h.setClipPath(J),d}},dispose:function(){}});const we={series:[{type:"liquidFill",radius:"75%",center:["50%","50%"],data:[],backgroundStyle:{color:{type:"linear",x:1,y:0,x2:.5,y2:1,colorStops:[{offset:1,color:"rgba(168, 218, 247, 0.4)"},{offset:.5,color:"rgba(168, 218, 247, 0.5)"},{offset:0,color:"rgba(168, 218, 247, 0.8)"}],globalCoord:!1}},outline:{borderDistance:0,itemStyle:{borderWidth:5,borderColor:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(81,142,215, 0)"},{offset:.5,color:"rgba(53,142,215, 0.45)"},{offset:1,color:"rgba(53,142,215, 0.6)"}],globalCoord:!1},shadowColor:"rgba(66,102,247, 0.55)",shadowBlur:10}},label:{fontSize:25}}]},ye={tooltip:{},visualMap:{left:"3%",bottom:"2%",calculable:!0,inRange:{color:["#24CFF4","#2E98CA","#1E62AC"]},textStyle:{color:"#24CFF4"}},series:[{name:"地图",type:"map",map:"map",roam:!0,zoom:1.22,data:[],label:{show:!0,color:"rgb(249, 249, 249)"},itemStyle:{areaColor:"#24CFF4",borderColor:"#53D9FF",borderWidth:1.3,shadowBlur:15,shadowColor:"rgb(58,115,192)",shadowOffsetX:7,shadowOffsetY:6},emphasis:{label:{show:!0,color:"#f75a00"},itemStyle:{areaColor:"#8dd7fc",borderWidth:1.6,shadowBlur:25}}}]},be={tooltip:{trigger:"item"},legend:{show:!0,left:"center",top:"3%",type:"scroll",itemWidth:18,itemHeight:11},series:[{name:"",type:"pie",radius:["35%","55%"],center:["48%","55%"],itemStyle:{},data:[]}]},Se={tooltip:{trigger:"item"},legend:{show:!0,left:"center",top:"0%",type:"scroll",itemWidth:18,itemHeight:11},radar:{radius:"65%",splitNumber:4,center:["48%","55%"],startAngle:90,indicator:[]},series:[{type:"radar",symbolSize:0,areaStyle:{shadowBlur:13,shadowColor:"rgba(0,0,0,.2)",shadowOffsetX:0,shadowOffsetY:10,opacity:1},data:[]}]},Ce={tooltip:{},visualMap:{left:"3%",bottom:"2%",calculable:!0,inRange:{color:["#24CFF4","#2E98CA","#1E62AC"]},textStyle:{color:"#24CFF4"}},geo:{map:"map",roam:!0,zoom:1.22,itemStyle:{areaColor:"#1E62AC",borderColor:"#53D9FF",borderWidth:1.3,shadowBlur:15,shadowColor:"rgb(58,115,192)",shadowOffsetX:7,shadowOffsetY:6},label:{show:!0,color:"rgb(249, 249, 249)"},emphasis:{itemStyle:{areaColor:"#8dd7fc",borderWidth:1.6},label:{show:!0,color:"rgb(249, 249, 249)"}}},series:[{name:"散点",type:"scatter",data:[],symbol:"pin",coordinateSystem:"geo",symbolSize:45,label:{show:!0,color:"#fff",formatter:r=>parseInt(r.value[2])},itemStyle:{color:"#f99"}}]};Rt({type:"series.wordCloud",visualStyleAccessPath:"textStyle",visualStyleMapper:function(r){return{fill:r.get("color")}},visualDrawType:"fill",optionUpdated:function(){var r=this.option;r.gridSize=Math.max(Math.floor(r.gridSize),4)},getInitialData:function(r,a){var i=zt(r.data,{coordDimensions:["value"]}),l=new Dt(i,this);return l.initData(r.data),l},defaultOption:{maskImage:null,shape:"circle",keepAspect:!1,left:"center",top:"center",width:"70%",height:"80%",sizeRange:[12,60],rotationRange:[-90,90],rotationStep:45,gridSize:8,drawOutOfBound:!1,shrinkToFit:!1,textStyle:{fontWeight:"normal"}}});Lt({type:"wordCloud",render:function(r,a,i){var l=this.group;l.removeAll();var t=r.getData(),g=r.get("gridSize");r.layoutInstance.ondraw=function(c,s,v,z){var Y=t.getItemModel(v),Z=Y.getModel("textStyle"),F=new bt({style:ct(Z),scaleX:1/z.info.mu,scaleY:1/z.info.mu,x:(z.gx+z.info.gw/2)*g,y:(z.gy+z.info.gh/2)*g,rotation:z.rot});F.setStyle({x:z.info.fillTextOffsetX,y:z.info.fillTextOffsetY+s*.5,text:c,verticalAlign:"middle",fill:t.getItemVisual(v,"style").fill,fontSize:s}),l.add(F),t.setItemGraphicEl(v,F),F.ensureState("emphasis").style=ct(Y.getModel(["emphasis","textStyle"]),{state:"emphasis"}),F.ensureState("blur").style=ct(Y.getModel(["blur","textStyle"]),{state:"blur"}),Wt(F,Y.get(["emphasis","focus"]),Y.get(["emphasis","blurScope"])),F.stateTransition={duration:r.get("animation")?r.get(["stateAnimation","duration"]):0,easing:r.get(["stateAnimation","easing"])},F.__highDownDispatcher=!0},this._model=r},remove:function(){this.group.removeAll(),this._model.layoutInstance.dispose()},dispose:function(){this._model.layoutInstance.dispose()}});/*!
 * wordcloud2.js
 * http://timdream.org/wordcloud2.js/
 *
 * Copyright 2011 - 2019 Tim Guan-tin Chien and contributors.
 * Released under the MIT license
 */window.setImmediate||(window.setImmediate=function(){return window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var i=[void 0],l="zero-timeout-message",t=function(c){var s=i.length;return i.push(c),window.postMessage(l+s.toString(36),"*"),s};return window.addEventListener("message",function(c){if(!(typeof c.data!="string"||c.data.substr(0,l.length)!==l)){c.stopImmediatePropagation();var s=parseInt(c.data.substr(l.length),36);i[s]&&(i[s](),i[s]=void 0)}},!0),window.clearImmediate=function(c){i[c]&&(i[c]=void 0)},t}()||function(i){window.setTimeout(i,0)}}());window.clearImmediate||(window.clearImmediate=function(){return window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(i){window.clearTimeout(i)}}());var Ct=function(){var a=document.createElement("canvas");if(!a||!a.getContext)return!1;var i=a.getContext("2d");return!(!i||!i.getImageData||!i.fillText||!Array.prototype.some||!Array.prototype.push)}(),St=function(){if(Ct){for(var a=document.createElement("canvas").getContext("2d"),i=20,l,t;i;){if(a.font=i.toString(10)+"px sans-serif",a.measureText("Ｗ").width===l&&a.measureText("m").width===t)return i+1;l=a.measureText("Ｗ").width,t=a.measureText("m").width,i--}return 0}}(),xe=function(r){if(Array.isArray(r)){var a=r.slice();return a.splice(0,2),a}else return[]},Me=function(a){for(var i,l,t=a.length;t;)i=Math.floor(Math.random()*t),l=a[--t],a[t]=a[i],a[i]=l;return a},ot={},vt=function(a,i){if(!Ct)return;var l=Math.floor(Math.random()*Date.now());Array.isArray(a)||(a=[a]),a.forEach(function(h,e){if(typeof h=="string"){if(a[e]=document.getElementById(h),!a[e])throw new Error("The element id specified is not found.")}else if(!h.tagName&&!h.appendChild)throw new Error("You must pass valid HTML elements, or ID of the element.")});var t={list:[],fontFamily:'"Trebuchet MS", "Heiti TC", "微軟正黑體", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",minSize:0,weightFactor:1,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,drawOutOfBound:!1,shrinkToFit:!1,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,layoutAnimation:!0,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotationStep:.1,shuffle:!0,rotateRatio:.1,shape:"circle",ellipticity:.65,classes:null,hover:null,click:null};if(i)for(var g in i)g in t&&(t[g]=i[g]);if(typeof t.weightFactor!="function"){var c=t.weightFactor;t.weightFactor=function(e){return e*c}}if(typeof t.shape!="function")switch(t.shape){case"circle":default:t.shape="circle";break;case"cardioid":t.shape=function(e){return 1-Math.sin(e)};break;case"diamond":t.shape=function(e){var n=e%(2*Math.PI/4);return 1/(Math.cos(n)+Math.sin(n))};break;case"square":t.shape=function(e){return Math.min(1/Math.abs(Math.cos(e)),1/Math.abs(Math.sin(e)))};break;case"triangle-forward":t.shape=function(e){var n=e%(2*Math.PI/3);return 1/(Math.cos(n)+Math.sqrt(3)*Math.sin(n))};break;case"triangle":case"triangle-upright":t.shape=function(e){var n=(e+Math.PI*3/2)%(2*Math.PI/3);return 1/(Math.cos(n)+Math.sqrt(3)*Math.sin(n))};break;case"pentagon":t.shape=function(e){var n=(e+.955)%(2*Math.PI/5);return 1/(Math.cos(n)+.726543*Math.sin(n))};break;case"star":t.shape=function(e){var n=(e+.955)%(2*Math.PI/10);return(e+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-n)+3.07768*Math.sin(2*Math.PI/10-n)):1/(Math.cos(n)+3.07768*Math.sin(n))};break}t.gridSize=Math.max(Math.floor(t.gridSize),4);var s=t.gridSize,v=s-t.maskGapWidth,z=Math.abs(t.maxRotation-t.minRotation),Y=Math.min(t.maxRotation,t.minRotation),Z=t.rotationStep,F,P,D,_,k,B,H;function Q(h,e){return"hsl("+(Math.random()*360).toFixed()+","+(Math.random()*30+70).toFixed()+"%,"+(Math.random()*(e-h)+h).toFixed()+"%)"}switch(t.color){case"random-dark":H=function(){return Q(10,50)};break;case"random-light":H=function(){return Q(50,90)};break;default:typeof t.color=="function"&&(H=t.color);break}var G;typeof t.fontWeight=="function"&&(G=t.fontWeight);var X=null;typeof t.classes=="function"&&(X=t.classes);var nt=!1,at=[],lt,J=function(e){var n=e.currentTarget,o=n.getBoundingClientRect(),d,u;e.touches?(d=e.touches[0].clientX,u=e.touches[0].clientY):(d=e.clientX,u=e.clientY);var m=d-o.left,T=u-o.top,w=Math.floor(m*(n.width/o.width||1)/s),b=Math.floor(T*(n.height/o.height||1)/s);return at[w]?at[w][b]:null},rt=function(e){var n=J(e);if(lt!==n){if(lt=n,!n){t.hover(void 0,void 0,e);return}t.hover(n.item,n.dimension,e)}},tt=function(e){var n=J(e);n&&(t.click(n.item,n.dimension,e),e.preventDefault())},V=[],ut=function(e){if(V[e])return V[e];var n=e*8,o=n,d=[];for(e===0&&d.push([_[0],_[1],0]);o--;){var u=1;t.shape!=="circle"&&(u=t.shape(o/n*2*Math.PI)),d.push([_[0]+e*u*Math.cos(-o/n*2*Math.PI),_[1]+e*u*Math.sin(-o/n*2*Math.PI)*t.ellipticity,o/n*2*Math.PI])}return V[e]=d,d},st=function(){return t.abortThreshold>0&&new Date().getTime()-B>t.abortThreshold},dt=function(){return t.rotateRatio===0||Math.random()>t.rotateRatio?0:z===0?Y:Y+Math.round(Math.random()*z/Z)*Z},ft=function(e,n,o,d){var u=t.weightFactor(n);if(u<=t.minSize)return!1;var m=1;u<St&&(m=function(){for(var wt=2;wt*u<St;)wt+=2;return wt}());var T;G?T=G(e,n,u,d):T=t.fontWeight;var w=document.createElement("canvas"),b=w.getContext("2d",{willReadFrequently:!0});b.font=T+" "+(u*m).toString(10)+"px "+t.fontFamily;var A=b.measureText(e).width/m,x=Math.max(u*m,b.measureText("m").width,b.measureText("Ｗ").width)/m,M=A+x*2,R=x*3,q=Math.ceil(M/s),U=Math.ceil(R/s);M=q*s,R=U*s;var W=-A/2,S=-x*.4,O=Math.ceil((M*Math.abs(Math.sin(o))+R*Math.abs(Math.cos(o)))/s),L=Math.ceil((M*Math.abs(Math.cos(o))+R*Math.abs(Math.sin(o)))/s),N=L*s,it=O*s;w.setAttribute("width",N),w.setAttribute("height",it),b.scale(1/m,1/m),b.translate(N*m/2,it*m/2),b.rotate(-o),b.font=T+" "+(u*m).toString(10)+"px "+t.fontFamily,b.fillStyle="#000",b.textBaseline="middle",b.fillText(e,W*m,(S+u*.5)*m);var ht=b.getImageData(0,0,N,it).data;if(st())return!1;for(var xt=[],et=L,K,mt,pt,$=[O/2,L/2,O/2,L/2];et--;)for(K=O;K--;){pt=s;t:for(;pt--;)for(mt=s;mt--;)if(ht[((K*s+pt)*N+(et*s+mt))*4+3]){xt.push([et,K]),et<$[3]&&($[3]=et),et>$[1]&&($[1]=et),K<$[0]&&($[0]=K),K>$[2]&&($[2]=K);break t}}return{mu:m,occupied:xt,bounds:$,gw:L,gh:O,fillTextOffsetX:W,fillTextOffsetY:S,fillTextWidth:A,fillTextHeight:x,fontSize:u}},gt=function(e,n,o,d,u){for(var m=u.length;m--;){var T=e+u[m][0],w=n+u[m][1];if(T>=P||w>=D||T<0||w<0){if(!t.drawOutOfBound)return!1;continue}if(!F[T][w])return!1}return!0},f=function(e,n,o,d,u,m,T,w,b,A){var x=o.fontSize,M;H?M=H(d,u,x,m,T,A):M=t.color;var R;G?R=G(d,u,x,A):R=t.fontWeight;var q;X?q=X(d,u,x,A):q=t.classes,a.forEach(function(U){if(U.getContext){var W=U.getContext("2d"),S=o.mu;W.save(),W.scale(1/S,1/S),W.font=R+" "+(x*S).toString(10)+"px "+t.fontFamily,W.fillStyle=M,W.translate((e+o.gw/2)*s*S,(n+o.gh/2)*s*S),w!==0&&W.rotate(-w),W.textBaseline="middle",W.fillText(d,o.fillTextOffsetX*S,(o.fillTextOffsetY+x*.5)*S),W.restore()}else{var O=document.createElement("span"),L="";L="rotate("+-w/Math.PI*180+"deg) ",o.mu!==1&&(L+="translateX(-"+o.fillTextWidth/4+"px) scale("+1/o.mu+")");var N={position:"absolute",display:"block",font:R+" "+x*o.mu+"px "+t.fontFamily,left:(e+o.gw/2)*s+o.fillTextOffsetX+"px",top:(n+o.gh/2)*s+o.fillTextOffsetY+"px",width:o.fillTextWidth+"px",height:o.fillTextHeight+"px",lineHeight:x+"px",whiteSpace:"nowrap",transform:L,webkitTransform:L,msTransform:L,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"};M&&(N.color=M),O.textContent=d;for(var it in N)O.style[it]=N[it];if(b)for(var ht in b)O.setAttribute(ht,b[ht]);q&&(O.className+=q),U.appendChild(O)}})},p=function(e,n,o,d,u){if(!(e>=P||n>=D||e<0||n<0)){if(F[e][n]=!1,o){var m=a[0].getContext("2d");m.fillRect(e*s,n*s,v,v)}nt&&(at[e][n]={item:u,dimension:d})}},y=function(e,n,o,d,u,m){var T=u.occupied,w=t.drawMask,b;w&&(b=a[0].getContext("2d"),b.save(),b.fillStyle=t.maskColor);var A;if(nt){var x=u.bounds;A={x:(e+x[3])*s,y:(n+x[0])*s,w:(x[1]-x[3]+1)*s,h:(x[2]-x[0]+1)*s}}for(var M=T.length;M--;){var R=e+T[M][0],q=n+T[M][1];R>=P||q>=D||R<0||q<0||p(R,q,w,A,m)}w&&b.restore()},E=function h(e,n){if(n>20)return null;var o,d,u;Array.isArray(e)?(o=e[0],d=e[1]):(o=e.word,d=e.weight,u=e.attributes);var m=dt(),T=xe(e),w=ft(o,d,m,T);if(!w||st())return!1;if(!t.drawOutOfBound&&!t.shrinkToFit){var b=w.bounds;if(b[1]-b[3]+1>P||b[2]-b[0]+1>D)return!1}for(var A=k+1,x=function(U){var W=Math.floor(U[0]-w.gw/2),S=Math.floor(U[1]-w.gh/2),O=w.gw,L=w.gh;return gt(W,S,O,L,w.occupied)?(f(W,S,w,o,d,k-A,U[2],m,u,T),y(W,S,O,L,w,e),{gx:W,gy:S,rot:m,info:w}):!1};A--;){var M=ut(k-A);t.shuffle&&(M=[].concat(M),Me(M));for(var R=0;R<M.length;R++){var q=x(M[R]);if(q)return q}}return t.shrinkToFit?(Array.isArray(e)?e[1]=e[1]*3/4:e.weight=e.weight*3/4,h(e,n+1)):null},C=function(e,n,o){if(n)return!a.some(function(d){var u=new CustomEvent(e,{detail:o||{}});return!d.dispatchEvent(u)},this);a.forEach(function(d){var u=new CustomEvent(e,{detail:o||{}});d.dispatchEvent(u)},this)},I=function(){var e=a[0];if(e.getContext)P=Math.ceil(e.width/s),D=Math.ceil(e.height/s);else{var n=e.getBoundingClientRect();P=Math.ceil(n.width/s),D=Math.ceil(n.height/s)}if(C("wordcloudstart",!0)){_=t.origin?[t.origin[0]/s,t.origin[1]/s]:[P/2,D/2],k=Math.floor(Math.sqrt(P*P+D*D)),F=[];var o,d,u;if(!e.getContext||t.clearCanvas)for(a.forEach(function(S){if(S.getContext){var O=S.getContext("2d");O.fillStyle=t.backgroundColor,O.clearRect(0,0,P*(s+1),D*(s+1)),O.fillRect(0,0,P*(s+1),D*(s+1))}else S.textContent="",S.style.backgroundColor=t.backgroundColor,S.style.position="relative"}),o=P;o--;)for(F[o]=[],d=D;d--;)F[o][d]=!0;else{var m=document.createElement("canvas").getContext("2d");m.fillStyle=t.backgroundColor,m.fillRect(0,0,1,1);var T=m.getImageData(0,0,1,1).data,w=e.getContext("2d").getImageData(0,0,P*s,D*s).data;o=P;for(var b,A;o--;)for(F[o]=[],d=D;d--;){A=s;t:for(;A--;)for(b=s;b--;)for(u=4;u--;)if(w[((d*s+A)*P*s+(o*s+b))*4+u]!==T[u]){F[o][d]=!1;break t}F[o][d]!==!1&&(F[o][d]=!0)}w=m=T=void 0}if(t.hover||t.click){for(nt=!0,o=P+1;o--;)at[o]=[];t.hover&&e.addEventListener("mousemove",rt),t.click&&(e.addEventListener("click",tt),e.addEventListener("touchstart",tt),e.addEventListener("touchend",function(S){S.preventDefault()}),e.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)"),e.addEventListener("wordcloudstart",function S(){e.removeEventListener("wordcloudstart",S),e.removeEventListener("mousemove",rt),e.removeEventListener("click",tt),lt=void 0})}u=0;var x,M,R=!0;t.layoutAnimation?t.wait!==0?(x=window.setTimeout,M=window.clearTimeout):(x=window.setImmediate,M=window.clearImmediate):(x=function(S){S()},M=function(){R=!1});var q=function(O,L){a.forEach(function(N){N.addEventListener(O,L)},this)},U=function(O,L){a.forEach(function(N){N.removeEventListener(O,L)},this)},W=function S(){U("wordcloudstart",S),M(ot[l])};q("wordcloudstart",W),ot[l]=(t.layoutAnimation?x:setTimeout)(function S(){if(R){if(u>=t.list.length){M(ot[l]),C("wordcloudstop",!1),U("wordcloudstart",W),delete ot[l];return}B=new Date().getTime();var O=E(t.list[u],0),L=!C("wordclouddrawn",!0,{item:t.list[u],drawn:O});if(st()||L){M(ot[l]),t.abort(),C("wordcloudabort",!1),C("wordcloudstop",!1),U("wordcloudstart",W);return}u++,ot[l]=x(S,t.wait)}},t.wait)}};I()};vt.isSupported=Ct;vt.minFontSize=St;if(!vt.isSupported)throw new Error("Sorry your browser not support wordCloud");function Ie(r){for(var a=r.getContext("2d"),i=a.getImageData(0,0,r.width,r.height),l=a.createImageData(i),t=0,g=0,c=0;c<i.data.length;c+=4){var s=i.data[c+3];if(s>128){var v=i.data[c]+i.data[c+1]+i.data[c+2];t+=v,++g}}for(var z=t/g,c=0;c<i.data.length;c+=4){var v=i.data[c]+i.data[c+1]+i.data[c+2],s=i.data[c+3];s<128||v>z?(l.data[c]=0,l.data[c+1]=0,l.data[c+2]=0,l.data[c+3]=0):(l.data[c]=255,l.data[c+1]=255,l.data[c+2]=255,l.data[c+3]=255)}a.putImageData(l,0,0)}Vt(function(r,a){r.eachSeriesByType("wordCloud",function(i){var l=Qt(i.getBoxLayoutParams(),{width:a.getWidth(),height:a.getHeight()}),t=i.get("keepAspect"),g=i.get("maskImage"),c=g?g.width/g.height:1;t&&Te(l,c);var s=i.getData(),v=document.createElement("canvas");v.width=l.width,v.height=l.height;var z=v.getContext("2d");if(g)try{z.drawImage(g,0,0,v.width,v.height),Ie(v)}catch(k){console.error("Invalid mask image"),console.error(k.toString())}var Y=i.get("sizeRange"),Z=i.get("rotationRange"),F=s.getDataExtent("value"),P=Math.PI/180,D=i.get("gridSize");vt(v,{list:s.mapArray("value",function(k,B){var H=s.getItemModel(B);return[s.getName(B),H.get("textStyle.fontSize",!0)||Jt(k,F,Y),B]}).sort(function(k,B){return B[1]-k[1]}),fontFamily:i.get("textStyle.fontFamily")||i.get("emphasis.textStyle.fontFamily")||r.get("textStyle.fontFamily"),fontWeight:i.get("textStyle.fontWeight")||i.get("emphasis.textStyle.fontWeight")||r.get("textStyle.fontWeight"),gridSize:D,ellipticity:l.height/l.width,minRotation:Z[0]*P,maxRotation:Z[1]*P,clearCanvas:!g,rotateRatio:1,rotationStep:i.get("rotationStep")*P,drawOutOfBound:i.get("drawOutOfBound"),shrinkToFit:i.get("shrinkToFit"),layoutAnimation:i.get("layoutAnimation"),shuffle:!1,shape:i.get("shape")});function _(k){var B=k.detail.item;k.detail.drawn&&i.layoutInstance.ondraw&&(k.detail.drawn.gx+=l.x/D,k.detail.drawn.gy+=l.y/D,i.layoutInstance.ondraw(B[0],B[1],B[2],k.detail.drawn))}v.addEventListener("wordclouddrawn",_),i.layoutInstance&&i.layoutInstance.dispose(),i.layoutInstance={ondraw:null,dispose:function(){v.removeEventListener("wordclouddrawn",_),v.addEventListener("wordclouddrawn",function(k){k.preventDefault()})}}})});$t(function(r){var a=(r||{}).series;!jt(a)&&(a=a?[a]:[]);var i=["shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];Ft(a,function(t){if(t&&t.type==="wordCloud"){var g=t.textStyle||{};l(g.normal),l(g.emphasis)}});function l(t){t&&Ft(i,function(g){t.hasOwnProperty(g)&&(t["text"+Kt(g)]=t[g])})}});function Te(r,a){var i=r.width,l=r.height;i>l*a?(r.x+=(i-l*a)/2,r.width=l*a):(r.y+=(l-i/a)/2,r.height=i/a)}const Pe={tooltip:{trigger:"item"},series:[{type:"wordCloud",sizeRange:[14,28],rotationRange:[0,0],width:"100%",height:"100%",shape:"pentagon ",gridSize:25,top:0,data:[]}]},Ae=ee({__name:"MyCharts",props:{type:{},options:{}},setup(r){const a=r,i=ae();let l;const t=re(),g={backgroundColor:"transparent"},c=()=>{l&&l.dispose(),l=te(i.value,t.value?"dark":"light"),l.setOption(g)};return ie(()=>t.value,()=>{c()}),oe(()=>{const v=Object.assign({"../../echarts/bar.ts":fe,"../../echarts/barChart.ts":he,"../../echarts/graph.ts":ce,"../../echarts/heatmap.ts":ve,"../../echarts/line.ts":ge,"../../echarts/liquidfill.ts":we,"../../echarts/map.ts":ye,"../../echarts/pie.ts":be,"../../echarts/radar.ts":Se,"../../echarts/scatter.ts":Ce,"../../echarts/wordcloud.ts":Pe})[`../../echarts/${a.type}.ts`];v&&(ne(g,a.options,v),c()),le(i.value,()=>{l.resize()})}),se(()=>{l.dispose()}),(s,v)=>(ue(),de("div",{ref_key:"chartsRef",ref:i},null,512))}});export{Ae as _};
